{% comment %}
  Terms and Conditions Section
  Left sidebar with navigation links + main content area with title and text
{% endcomment %}

<section class="container mx-auto px-4 py-12">
  <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
    <!-- Left Sidebar Navigation -->
    <div class="lg:col-span-1">
      <div class="sticky top-8">
        <h3 class="text-sm font-semibold uppercase tracking-wide mb-4 border-b border-gray-300 pb-2">
          {{ section.settings.nav_title | default: 'Overview' }}
        </h3>

        <nav class="space-y-2">
          {% for block in section.blocks %}
            {% if block.type == 'nav_item' %}
              <a
                href="#{{ block.settings.anchor_id | handleize }}"
                class="block text-sm text-gray-700 hover:text-black transition-colors duration-200"
                {{ block.shopify_attributes }}
              >
                {{ block.settings.nav_text }}
              </a>
            {% endif %}
          {% endfor %}
        </nav>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="lg:col-span-3">
      {% if section.settings.main_title != blank %}
        <h1 class="text-4xl font-bold mb-8">{{ section.settings.main_title }}</h1>
      {% endif %}

      <div class="prose max-w-none">
        {% for block in section.blocks %}
          {% if block.type == 'content_section' %}
            <div class="mb-8" {{ block.shopify_attributes }}>
              {% if block.settings.section_title != blank %}
                <h2
                  id="{{ block.settings.anchor_id | handleize }}"
                  class="text-2xl font-semibold mb-4 scroll-mt-20"
                >
                  {{ block.settings.section_title }}
                </h2>
              {% endif %}

              {% if block.settings.content != blank %}
                <div class="text-gray-700 leading-relaxed">
                  {{ block.settings.content }}
                </div>
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<style>
  /* Smooth scrolling for anchor links */
  html {
    scroll-behavior: smooth;
  }

  /* Highlight active nav item */
  .nav-item-active {
    color: #000;
    font-weight: 600;
  }
</style>

{% schema %}
{
  "name": "Terms & Conditions",
  "settings": [
    { "type": "text", "id": "main_title", "label": "Main Title", "default": "Terms Of Service" },
    { "type": "text", "id": "nav_title", "label": "Navigation Title", "default": "Overview" }
  ],
  "blocks": [
    {
      "type": "nav_item",
      "name": "Navigation Item",
      "settings": [
        { "type": "text", "id": "nav_text", "label": "Navigation Text", "default": "Online store terms" },
        {
          "type": "text",
          "id": "anchor_id",
          "label": "Anchor ID",
          "default": "online-store-terms",
          "info": "Used for linking (no spaces, use hyphens)"
        }
      ]
    },
    {
      "type": "content_section",
      "name": "Content Section",
      "settings": [
        {
          "type": "text",
          "id": "section_title",
          "label": "Section Title",
          "default": "Section 1 - Online Store Terms"
        },
        {
          "type": "text",
          "id": "anchor_id",
          "label": "Anchor ID",
          "default": "online-store-terms",
          "info": "Must match navigation item anchor ID"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement.</p><p>Additionally, when using this website's particular services, you shall be subject to any posted guidelines or rules applicable to such services.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Terms & Conditions",
      "settings": {
        "main_title": "Terms Of Service",
        "nav_title": "Overview"
      },
      "blocks": [
        {
          "type": "nav_item",
          "settings": {
            "nav_text": "Online store terms",
            "anchor_id": "online-store-terms"
          }
        },
        {
          "type": "content_section",
          "settings": {
            "section_title": "Section 1 - Online Store Terms",
            "anchor_id": "online-store-terms",
            "content": "<p>By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement.</p><p>Additionally, when using this website's particular services, you shall be subject to any posted guidelines or rules applicable to such services.</p>"
          }
        },
        {
          "type": "nav_item",
          "settings": {
            "nav_text": "General conditions",
            "anchor_id": "general-conditions"
          }
        },
        {
          "type": "content_section",
          "settings": {
            "section_title": "Section 2 - General Conditions",
            "anchor_id": "general-conditions",
            "content": "<p>We reserve the right to refuse service to anyone for any reason at any time.</p><p>You understand that your content (not including credit card information), may be transferred unencrypted and involve transmissions over various networks.</p>"
          }
        },
        {
          "type": "nav_item",
          "settings": {
            "nav_text": "Accuracy and completeness",
            "anchor_id": "accuracy-completeness"
          }
        },
        {
          "type": "content_section",
          "settings": {
            "section_title": "Section 3 - Accuracy and Completeness",
            "anchor_id": "accuracy-completeness",
            "content": "<p>We are not responsible if information made available on this site is not accurate, complete or current.</p><p>The material on this site is provided for general information only and should not be relied upon or used as the sole basis for making decisions.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %}
