{% comment %}
  Product Benefits Section

  Features:
  - Product-related media (video first, then image fallback)
  - Benefit blocks with icon, title, and rich text
  - Responsive layout: mobile (stacked), desktop (side-by-side)
  - Modular design using snippets
{% endcomment %}

<div class="product-benefits-section py-12 lg:py-16 bg-white">
  <div class="   lg:pl-12 ">
    {% comment %} Mobile Layout: Media on top, benefits below {% endcomment %}
    <div class="lg:hidden flex flex-col gap-8">
      <!-- Mobile Media Section -->
      <div class="w-full">
        {% render 'product-benefits-media', product: product, image_count: '1' %}
      </div>

      <!-- Mobile Benefits Section -->
      <div class="w-full px-4">
        {% render 'product-benefits-content',
          title: section.settings.title,
          subtitle: section.settings.subtitle,
          benefit_blocks: section.blocks
        %}
      </div>
    </div>

    {% comment %} Desktop Layout: Dynamic based on layout setting {% endcomment %}
    <div class="hidden w-full lg:flex lg:gap-12 lg:items-start {% if section.settings.layout == 'media-left' %}lg:flex-row-reverse{% endif %}">
      <!-- Desktop Benefits Section -->
      <div class="lg:w-1/3">
        {% render 'product-benefits-content',
          title: section.settings.title,
          subtitle: section.settings.subtitle,
          benefit_blocks: section.blocks
        %}
      </div>

      <!-- Desktop Media Section -->
      <div class="lg:w-2/3">
        {% render 'product-benefits-media', product: product, image_count: section.settings.image_count %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Product Benefits",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Beneficios que te dan tranquilidad"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Section Subtitle",
      "default": "COMPRA CON CONFIANZA"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout Orientation",
      "options": [
        {
          "value": "benefits-left",
          "label": "Benefits Left, Media Right"
        },
        {
          "value": "media-left",
          "label": "Media Left, Benefits Right"
        }
      ],
      "default": "benefits-left",
      "info": "Choose the layout orientation for desktop view"
    },
    {
      "type": "select",
      "id": "image_count",
      "label": "Number of Images",
      "options": [
        {
          "value": "1",
          "label": "1 Image"
        },
        {
          "value": "2",
          "label": "2 Images (Side by Side)"
        }
      ],
      "default": "1",
      "info": "Choose how many product images to display. Mobile always shows 1 image."
    }
  ],
  "blocks": [
    {
      "type": "benefit_item",
      "name": "Benefit Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon",
          "info": "Upload a custom icon image (SVG, PNG, or JPG recommended)"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Benefit Title",
          "default": "100 días de tranquilidad"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Benefit Description",
          "default": "<p>Tienes hasta 100 días de garantía por defectos de fábrica. Es la más extensa del mercado para que compres con total confianza.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Benefits",
      "blocks": [
        {
          "type": "benefit_item",
          "settings": {
            "title": "100 días de tranquilidad",
            "description": "<p>Tienes hasta 100 días de garantía por defectos de fábrica. Es la más extensa del mercado para que compres con total confianza.</p>"
          }
        },
        {
          "type": "benefit_item",
          "settings": {
            "title": "Tú decides sin presión",
            "description": "<p>Puedes devolver tu compra hasta 45 días después. El primer cambio es completamente gratis. Así de fácil.</p>"
          }
        },
        {
          "type": "benefit_item",
          "settings": {
            "title": "Siempre hablamos contigo",
            "description": "<p>Resolvemos tus dudas por WhatsApp de forma rápida y cercana. Solo personas listas para ayudarte.</p>"
          }
        }
      ]
    }
  ],
  "disabled_on": {
    "groups": ["header", "footer"]
  }
}
{% endschema %}
